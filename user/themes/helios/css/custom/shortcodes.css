/**
 * Documentation Shortcodes Styles
 * Cards, Grids, Steps, and Tabs
 */

/* ==========================================================================
   Doc Cards
   ========================================================================== */

.doc-card {
    @apply block p-6 mb-4 rounded-lg border border-gray-200 dark:border-gray-700 transition-colors;
}

.doc-card:last-child {
    @apply mb-0;
}

.doc-card[href] {
    @apply hover:border-primary dark:hover:border-primary cursor-pointer;
}

/* Override prose link underline for doc-cards */
.prose a.doc-card:hover {
    text-decoration-line: none;
}

.doc-card-icon {
    @apply flex-shrink-0 inline-flex items-center justify-center p-2 rounded-xl bg-primary/15 text-primary;
}

/* ==========================================================================
   Doc Grid
   ========================================================================== */

.doc-grid {
    @apply my-6;
}

/* Cards inside grids should stretch to full height and have no margin */
.doc-grid > .doc-card {
    @apply mb-0 h-full;
}

/* ==========================================================================
   Doc Steps
   ========================================================================== */

.doc-steps {
    @apply relative my-6 ml-4 border-l-2 border-gray-200 dark:border-gray-700 list-none pl-0;
}

.doc-step {
    @apply relative pb-8 pl-8;
}

.doc-step:last-child {
    @apply pb-0;
}

.doc-step-number {
    @apply absolute -left-4 flex h-8 w-8 items-center justify-center rounded-full bg-primary text-white text-sm font-semibold;
}

.doc-step-content {
    @apply pt-0.5;
}

/* Step content prose adjustments */
.doc-step-content > :first-child {
    @apply mt-0;
}

.doc-step-content > :last-child {
    @apply mb-0;
}

/* ==========================================================================
   Doc Tabs
   ========================================================================== */

.doc-tabs {
    @apply my-6;
}

.doc-tabs-nav {
    @apply flex gap-0 border-b border-gray-200 dark:border-gray-700 overflow-x-auto;
}

.doc-tab-button {
    @apply relative px-4 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400
           hover:text-gray-900 dark:hover:text-gray-200
           whitespace-nowrap transition-colors cursor-pointer
           border-b-2 border-transparent -mb-px;
}

.doc-tab-button.active {
    @apply text-primary dark:text-primary border-primary;
}

.doc-tab-button:focus {
    @apply outline-none;
}

.doc-tab-button:focus-visible {
    @apply ring-2 ring-primary/50 ring-offset-2 dark:ring-offset-gray-900 rounded;
}

.doc-tabs-content {
    @apply mt-0;
}

.doc-tab-panel {
    @apply hidden py-4;
}

.doc-tab-panel.active {
    @apply block;
}

/* Tab panel prose adjustments */
.doc-tab-panel > .prose > :first-child {
    @apply mt-0;
}

.doc-tab-panel > .prose > :last-child {
    @apply mb-0;
}

/* ==========================================================================
   Doc File Tree
   ========================================================================== */

.doc-file-tree {
    @apply my-6 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 p-4 font-mono text-sm;
}

.doc-file-tree-list {
    @apply list-none m-0 p-0;
}

.doc-file-tree-list .doc-file-tree-list {
    @apply m-0 p-0 pl-6;
}

.doc-file-tree-item {
    @apply relative m-0 p-0;
    padding-top: 2px;
    padding-bottom: 2px;
}

/* Vertical line on each nested item - extends full height of item (including children) */
.doc-file-tree-list .doc-file-tree-list > .doc-file-tree-item::before {
    content: '';
    @apply absolute border-l border-gray-400 dark:border-gray-500;
    left: -12px;
    top: 0;
    bottom: -4px; /* extend past bottom to bridge gap to next sibling */
}

/* First item: don't extend above */
.doc-file-tree-list .doc-file-tree-list > .doc-file-tree-item:first-child::before {
    top: 0;
}

/* Last item: vertical line stops at horizontal connector (L-shape) */
.doc-file-tree-list .doc-file-tree-list > .doc-file-tree-item:last-child::before {
    bottom: auto;
    height: 15px;
}

/* Horizontal branch connector on each nested item */
.doc-file-tree-list .doc-file-tree-list > .doc-file-tree-item::after {
    content: '';
    @apply absolute border-t border-gray-400 dark:border-gray-500;
    left: -12px;
    top: 13px;
    width: 10px;
}

.doc-file-tree-entry {
    @apply flex items-center gap-2;
}

.doc-file-tree-icon {
    @apply flex-shrink-0 text-gray-500 dark:text-gray-400;
}

.doc-file-tree-item.directory > .doc-file-tree-entry > .doc-file-tree-icon {
    @apply text-amber-500 dark:text-amber-400;
}

.doc-file-tree-name {
    @apply text-gray-700 dark:text-gray-300;
}

.doc-file-tree-item.highlight > .doc-file-tree-entry > .doc-file-tree-name {
    @apply font-bold text-primary;
}

.doc-file-tree-comment {
    @apply ml-2 text-gray-500 dark:text-gray-500 font-sans italic;
}

.doc-file-tree-item.placeholder > .doc-file-tree-entry {
    @apply text-gray-400 dark:text-gray-500;
}

.doc-file-tree-dots {
    @apply tracking-wider;
}

/* ==========================================================================
   Doc Buttons
   ========================================================================== */

.doc-button {
    @apply inline-flex items-center gap-2 rounded-lg font-medium transition-colors
           cursor-pointer no-underline;
}

/* Sizes */
.doc-button-sm {
    @apply px-3 py-1.5 text-xs;
}

.doc-button:not(.doc-button-sm):not(.doc-button-lg):not(.doc-button-xl) {
    @apply px-4 py-2 text-sm;
}

.doc-button-lg {
    @apply px-5 py-2.5 text-base;
}

.doc-button-xl {
    @apply px-7 py-3.5 text-lg;
}

/* ---------- Filled style ---------- */

/* Filled - Primary (default color) */
.doc-button:not(.doc-button-bordered) {
    @apply bg-primary text-primary-text;
}

.doc-button:not(.doc-button-bordered):hover {
    @apply bg-primary-hover;
}

:is(.dark) .doc-button:not(.doc-button-bordered) {
    @apply bg-primary-dark text-primary-dark-text;
}

:is(.dark) .doc-button:not(.doc-button-bordered):hover {
    @apply bg-primary-dark-hover;
}

/* Filled - Blue (matches API POST badge shade) */
.doc-button:not(.doc-button-bordered).doc-button-blue {
    @apply bg-blue-500 text-white;
}

.doc-button:not(.doc-button-bordered).doc-button-blue:hover {
    @apply bg-blue-600;
}

/* Filled - Green (matches API GET badge shade) */
.doc-button:not(.doc-button-bordered).doc-button-green {
    @apply bg-green-500 text-white;
}

.doc-button:not(.doc-button-bordered).doc-button-green:hover {
    @apply bg-green-600;
}

/* Filled - Yellow (matches API PUT badge shade) */
.doc-button:not(.doc-button-bordered).doc-button-yellow {
    @apply bg-amber-500 text-white;
}

.doc-button:not(.doc-button-bordered).doc-button-yellow:hover {
    @apply bg-amber-600;
}

/* Filled - Red (matches API DELETE badge shade) */
.doc-button:not(.doc-button-bordered).doc-button-red {
    @apply bg-red-500 text-white;
}

.doc-button:not(.doc-button-bordered).doc-button-red:hover {
    @apply bg-red-600;
}

/* Filled - Purple */
.doc-button:not(.doc-button-bordered).doc-button-purple {
    @apply bg-purple-500 text-white;
}

.doc-button:not(.doc-button-bordered).doc-button-purple:hover {
    @apply bg-purple-600;
}

/* Filled - Plain (neutral gray) */
.doc-button:not(.doc-button-bordered).doc-button-plain {
    @apply bg-gray-200 text-gray-800;
}

.doc-button:not(.doc-button-bordered).doc-button-plain:hover {
    @apply bg-gray-300;
}

:is(.dark) .doc-button:not(.doc-button-bordered).doc-button-plain {
    @apply bg-gray-700 text-gray-200;
}

:is(.dark) .doc-button:not(.doc-button-bordered).doc-button-plain:hover {
    @apply bg-gray-600;
}

/* ---------- Bordered style ---------- */

/* Bordered - Primary (default color) */
.doc-button-bordered {
    @apply border-2 border-primary text-primary bg-transparent;
}

.doc-button-bordered:hover {
    @apply bg-primary/10;
}

:is(.dark) .doc-button-bordered {
    @apply border-primary-dark text-primary-dark;
}

:is(.dark) .doc-button-bordered:hover {
    @apply bg-primary-dark/10;
}

/* Bordered - Blue */
.doc-button-bordered.doc-button-blue {
    @apply border-blue-500 text-blue-700;
}

.doc-button-bordered.doc-button-blue:hover {
    @apply bg-blue-500/10;
}

:is(.dark) .doc-button-bordered.doc-button-blue {
    @apply text-blue-400;
}

/* Bordered - Green */
.doc-button-bordered.doc-button-green {
    @apply border-green-500 text-green-700;
}

.doc-button-bordered.doc-button-green:hover {
    @apply bg-green-500/10;
}

:is(.dark) .doc-button-bordered.doc-button-green {
    @apply text-green-400;
}

/* Bordered - Yellow */
.doc-button-bordered.doc-button-yellow {
    @apply border-amber-500 text-amber-700;
}

.doc-button-bordered.doc-button-yellow:hover {
    @apply bg-amber-500/10;
}

:is(.dark) .doc-button-bordered.doc-button-yellow {
    @apply text-amber-400;
}

/* Bordered - Red */
.doc-button-bordered.doc-button-red {
    @apply border-red-500 text-red-700;
}

.doc-button-bordered.doc-button-red:hover {
    @apply bg-red-500/10;
}

:is(.dark) .doc-button-bordered.doc-button-red {
    @apply text-red-400;
}

/* Bordered - Purple */
.doc-button-bordered.doc-button-purple {
    @apply border-purple-500 text-purple-700;
}

.doc-button-bordered.doc-button-purple:hover {
    @apply bg-purple-500/10;
}

:is(.dark) .doc-button-bordered.doc-button-purple {
    @apply text-purple-400;
}

/* Bordered - Plain (neutral gray) */
.doc-button-bordered.doc-button-plain {
    @apply border-gray-300 text-gray-700;
}

.doc-button-bordered.doc-button-plain:hover {
    @apply bg-gray-100;
}

:is(.dark) .doc-button-bordered.doc-button-plain {
    @apply border-gray-600 text-gray-300;
}

:is(.dark) .doc-button-bordered.doc-button-plain:hover {
    @apply bg-gray-800;
}

/* ---------- Center, Icon & Prose ---------- */

.doc-button-center {
    @apply flex justify-center my-4;
}

.doc-button-icon {
    @apply w-4 h-4 flex-shrink-0;
}

.doc-button-lg .doc-button-icon {
    @apply w-5 h-5;
}

.doc-button-xl .doc-button-icon {
    @apply w-5 h-5;
}

/* Override prose link underline for doc-buttons */
.prose a.doc-button:hover {
    text-decoration-line: none;
}
