{# Shared doc-card partial - used by chapter pages and doc-card shortcode #}
{# Required vars: title, link (optional), icon (optional), description (optional), content (optional) #}
{% set tag = link ? 'a' : 'div' %}
{% set linkAttrs = link ? 'href="' ~ link ~ '"' : '' %}

<{{ tag }} {{ linkAttrs|raw }} class="doc-card group block p-6 rounded-lg border border-gray-200 dark:border-gray-700 {{ link ? 'hover:border-primary dark:hover:border-primary cursor-pointer hover:!no-underline' : '' }} transition-colors">
    <div class="flex items-center gap-3 text-base font-semibold text-gray-900 dark:text-white {{ link ? 'group-hover:text-primary' : '' }} transition-colors">
        {% if icon %}
        <span class="doc-card-icon flex-shrink-0 inline-flex items-center justify-center p-2 rounded-xl bg-primary/15 text-primary">
            {{ svg_icon(icon, 'w-5 h-5')|raw }}
        </span>
        {% endif %}
        <span>{{ title }}</span>
        {% if link %}
        <svg class="ml-auto w-4 h-4 text-gray-400 group-hover:text-primary transition-colors" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
        </svg>
        {% endif %}
    </div>
    {% if description or content %}
    <div class="mt-3 text-sm text-gray-600 dark:text-gray-400 {{ description ? 'line-clamp-2' : '' }}">
        {{ content|raw ?: description }}
    </div>
    {% endif %}
</{{ tag }}>
